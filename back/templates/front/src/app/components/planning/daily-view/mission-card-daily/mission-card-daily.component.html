@if (mission()) {
  <div
    class="container-card grid-rows-auto p-default grid w-full gap-2 rounded rounded-lg border-2 bg-white p-3 shadow-sm"
    (click)="handleSelect()"
    (keydown.enter)="handleSelect()"
    [ngStyle]="{
      minWidth: isFixedProfile() ? '280px' : 'auto',
      width: isFixedProfile() ? '280px' : '100%',
      'max-height': '150px',
      'background-color': '#FFF',
      border: '2px solid' + mission()?.status?.color,
    }"
    [ngClass]="{}"
  >
    <!-- header -->
    <div class="gap-default row-span-1 flex flex-row items-center justify-end">
      <!-- <div class="flex max-w-[10rem] flex-row items-center gap-2 rounded-full">
        <mat-icon
          onkeypress
          [svgIcon]="'edit'"
          class="aspect-square !size-4 cursor-pointer"
          (click)="navigateToMission(mission())"
          [matTooltip]="tr.language().EDIT_MISSION"
        />
      </div> -->
      @if (isFixedProfile() && !alreadyStarted()) {
        <div class="flex flex-row items-center gap-2">
          <mat-icon [svgIcon]="'time'" class="outlined aspect-square !size-4 cursor-pointer" />
          <mat-icon [svgIcon]="'minus'" class="aspect-square !size-4 cursor-pointer" />
          <mat-icon [svgIcon]="'lock'" class="aspect-square !size-4 cursor-pointer" />
          <mat-icon
            [svgIcon]="visibilityState() ? 'hide' : 'show'"
            class="aspect-square !size-4 cursor-pointer"
            (click)="handleShow()"
            onKeyPress
            [matTooltip]="
              mission().isHidden ? tr.language().MISSION_SHOW_FOR_TEAMLEADER : tr.language().MISSION_HIDE_FOR_TEAMLEADER
            "
          />
        </div>
      }
    </div>

    <div>
      <h2
        class="cursor-pointer text-sm font-bold underline"
        [routerLink]="['/missions', mission().id]"
        matTooltip="DÃ©tails de la mission"
      >
        {{ mission().name }}
      </h2>
      <div class="flex items-center gap-1">
        <mat-icon
          [svgIcon]="mission().type?.icon ?? ''"
          class="aspect-square !size-4"
          [style.color]="mission().type?.color ?? 'red'"
        />
        <p class="text-[10px] font-bold">{{ mission().type?.name | uppercase }}</p>
      </div>
    </div>

    <div class="gap-default flex flex-col gap-1 overflow-y-auto text-sm">
      @if (isFixedProfile()) {
        <div class="flex items-center gap-1">
          <mat-icon [svgIcon]="'marker'" class="aspect-square !size-4" />
          <p class="text-[10px]">{{ mission().address?.street }}, {{ mission().address?.city }}</p>
        </div>
      }
      <div class="flex items-center gap-1">
        <mat-icon [svgIcon]="'customers'" class="aspect-square !size-4" />
        <p class="text-[10px]">{{ mission().client?.company }}</p>
      </div>
      @if (isFixedProfile()) {
        <div class="flex gap-1">
          <mat-icon [svgIcon]="'comment'" class="aspect-square !size-4 min-w-[1rem]" />
          <p class="text-[10px]">{{ mission().comments ?? tr.language().MISSIONS_NO_COMMENTS }}</p>
        </div>
      }
    </div>
  </div>
}
