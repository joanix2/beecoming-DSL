<div class="flex flex-col gap-2">
  <mat-label class="filed-label !text-secondary">{{ label }}</mat-label>

  @if (isEditMode()) {
    <mat-form-field class="w-full">
      <input
        type="text"
        matInput
        [placeholder]="placeholder"
        [title]="placeholder"
        [matAutocomplete]="auto"
        [formControl]="formControl"
        [value]="displayFn(formControl.value)"
        [disabled]="isDisabled()"
      />

      <mat-autocomplete
        #auto="matAutocomplete"
        (optionSelected)="onOptionSelected($event.option.value)"
        [displayWith]="displayFn"
      >
        @for (option of options(); track option) {
          <mat-option [value]="option">{{ option.name }}</mat-option>
        }
      </mat-autocomplete>
    </mat-form-field>

    <app-error-message [control]="formControl" [errors]="errors"></app-error-message>
  } @else {
    <!-- <div class="filed-readonly-container"> -->
    <p class="text-sm">{{ formControl.value?.name }}</p>
    <!-- </div> -->
  }
</div>
