<div [formGroup]="addressFormGroup" class="flex flex-grow basis-1/2 flex-col gap-2">
  <!-- Titre -->
  @if (label) {
    <div class="flex w-full items-center justify-between">
      <h2>{{ label }}</h2>
    </div>
  }

  <!-- Adresse principale -->
  <app-edit-text-field
    label="{{ tr.language().FORM_ADDRESS }}"
    [formControl]="streetControl"
    [isEditMode]="isEditMode"
    class="col-span-full"
    [errors]="[FIELD_ERRORS.required]"
  ></app-edit-text-field>

  <!-- ZIP, Ville, Pays -->
  <div class="grid w-full gap-4 sm:grid-cols-2 md:grid-cols-4">
    <app-edit-text-field
      label="{{ tr.language().FORM_ZIP }}"
      [formControl]="postalCodeControl"
      [isEditMode]="isEditMode"
      class="col-span-2 md:col-span-1"
      [errors]="[FIELD_ERRORS.required, FIELD_ERRORS.postalCode]"
    ></app-edit-text-field>

    <app-edit-text-field
      label="{{ tr.language().FORM_CITY }}"
      [formControl]="cityControl"
      [isEditMode]="isEditMode"
      class="col-span-2"
      [errors]="[FIELD_ERRORS.required]"
    ></app-edit-text-field>

    <app-edit-text-field
      label="{{ tr.language().FORM_COUNTRY }}"
      [formControl]="countryControl"
      [isEditMode]="isEditMode"
      class="col-span-2 md:col-span-1"
      [errors]="[FIELD_ERRORS.required]"
    ></app-edit-text-field>
  </div>

  <!-- ComplÃ©ment d'adresse -->
  <app-edit-text-field
    label="{{ tr.language().FORM_SUPPLEMENT }}"
    [formControl]="additionalInfoControl"
    [isEditMode]="isEditMode"
    class="col-span-full"
  ></app-edit-text-field>

  <!-- Latitude, Longitude, Bouton Localiser -->
  <div class="flex w-full flex-row items-center gap-1">
    <div class="grid w-full grid-cols-1 gap-4 lg:grid-cols-2">
      <app-edit-number-field
        label="{{ tr.language().FORM_LATITUDE }}"
        [formControl]="latitudeControl"
        [isEditMode]="isEditMode"
      ></app-edit-number-field>

      <app-edit-number-field
        label="{{ tr.language().FORM_LONGITUDE }}"
        [formControl]="longitudeControl"
        [isEditMode]="isEditMode"
      ></app-edit-number-field>
    </div>

    <div class="flex flex-col items-center justify-center gap-2 pb-2">
      <!-- <mat-label class="filed-label">{{ tr.language().FORM_LOCATE }}</mat-label> -->
      <button
        class="localize-button"
        title="{{ tr.language().FORM_LOCATE }}"
        (click)="localize()"
        [disabled]="!isEditMode()"
      >
        <div class="flex aspect-square h-12 w-12 items-center justify-center rounded border-2 border-primary">
          <mat-icon class="flex" svgIcon="localisation" color="primary"></mat-icon>
        </div>
      </button>
    </div>
  </div>
</div>
