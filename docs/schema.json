{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "UML Scaffolder DSL Schema",
  "description": "JSON Schema for UML Scaffolder Domain Specific Language",
  "type": "object",
  "required": ["config", "models"],
  "properties": {
    "config": {
      "type": "object",
      "required": ["project_name"],
      "properties": {
        "project_name": {
          "type": "string",
          "minLength": 1,
          "description": "Name of the application"
        },
        "description": {
          "type": "string",
          "description": "Application description"
        },
        "database": {
          "type": "object",
          "properties": {
            "provider": {
              "type": "string",
              "enum": ["postgres", "mssql", "mysql", "sqlite"],
              "default": "postgres",
              "description": "Database provider type"
            },
            "connection_string": {
              "type": "string",
              "description": "Database connection string"
            }
          },
          "additionalProperties": false
        },
        "api": {
          "type": "object",
          "properties": {
            "port": {
              "type": "integer",
              "minimum": 1,
              "maximum": 65535,
              "default": 5000,
              "description": "API server port"
            },
            "version": {
              "type": "string",
              "default": "v1",
              "description": "API version"
            },
            "base_url": {
              "type": "string",
              "default": "/api",
              "description": "API base URL path"
            }
          },
          "additionalProperties": false
        },
        "frontend": {
          "type": "object",
          "properties": {
            "port": {
              "type": "integer",
              "minimum": 1,
              "maximum": 65535,
              "default": 3000,
              "description": "Frontend development server port"
            },
            "framework": {
              "type": "string",
              "enum": ["angular", "react", "vue"],
              "default": "angular",
              "description": "Frontend framework"
            }
          },
          "additionalProperties": false
        },
        "features": {
          "type": "object",
          "properties": {
            "auth": {
              "type": "boolean",
              "default": true,
              "description": "Generate authentication service"
            },
            "email_service": {
              "type": "boolean",
              "default": false,
              "description": "Generate email service"
            },
            "file_service": {
              "type": "boolean",
              "default": false,
              "description": "Generate file service"
            },
            "notifications": {
              "type": "boolean",
              "default": false,
              "description": "Generate notifications service"
            },
            "logging": {
              "type": "boolean",
              "default": true,
              "description": "Generate logging service"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "models": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["name", "properties"],
        "properties": {
          "name": {
            "type": "string",
            "pattern": "^[A-Z][a-zA-Z0-9]*$",
            "description": "Model name (PascalCase)"
          },
          "properties": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object",
              "required": ["name", "type"],
              "properties": {
                "name": {
                  "type": "string",
                  "pattern": "^[a-z][a-zA-Z0-9]*$",
                  "description": "Property name (camelCase)"
                },
                "type": {
                  "type": "string",
                  "enum": ["text", "textarea", "integer", "number", "select", "multiselect", "autocomplete", "boolean", "date", "datetime", "address"],
                  "description": "Property type"
                },
                "required": {
                  "type": "boolean",
                  "default": true,
                  "description": "Field is required"
                },
                "nullable": {
                  "type": "boolean",
                  "default": false,
                  "description": "Field can be null"
                },
                "unique": {
                  "type": "boolean",
                  "default": false,
                  "description": "Field value must be unique"
                },
                "max_length": {
                  "type": "integer",
                  "minimum": 1,
                  "description": "Maximum length for text/textarea"
                },
                "min_value": {
                  "type": "number",
                  "description": "Minimum value for number fields"
                },
                "max_value": {
                  "type": "number",
                  "description": "Maximum value for number fields"
                },
                "default": {
                  "description": "Default value for the property"
                },
                "label": {
                  "type": "string",
                  "description": "Label for form field"
                },
                "placeholder": {
                  "type": "string",
                  "description": "Placeholder for form field"
                },
                "help_text": {
                  "type": "string",
                  "description": "Help text for form field"
                },
                "options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Options for select/multiselect types"
                }
              },
              "additionalProperties": false
            }
          }
        },
        "additionalProperties": false
      }
    }
  },
  "additionalProperties": false
}
